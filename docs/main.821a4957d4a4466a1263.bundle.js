(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{195:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.noop=function(){return null},exports.identity=function(val){return val}},22:function(module,exports,__webpack_require__){"use strict";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}Object.defineProperty(exports,"__esModule",{value:!0}),__export(__webpack_require__(350)),__export(__webpack_require__(351)),__export(__webpack_require__(352)),__export(__webpack_require__(353))},23:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.chartSimple={offset:{x:0,y:0},nodes:{node1:{id:"node1",type:"output-only",position:{x:300,y:100},ports:{port1:{id:"port1",type:"output",properties:{value:"yes"}},port2:{id:"port2",type:"output",properties:{value:"no"}}}},node2:{id:"node2",type:"input-output",position:{x:300,y:300},ports:{port1:{id:"port1",type:"input"},port2:{id:"port2",type:"output"}}},node3:{id:"node3",type:"input-output",position:{x:100,y:600},ports:{port1:{id:"port1",type:"input"},port2:{id:"port2",type:"output"}}},node4:{id:"node4",type:"input-output",position:{x:500,y:600},ports:{port1:{id:"port1",type:"input"},port2:{id:"port2",type:"output"}}}},links:{link1:{id:"link1",from:{nodeId:"node1",portId:"port2"},to:{nodeId:"node2",portId:"port1"},properties:{label:"example link label"}},link2:{id:"link2",from:{nodeId:"node2",portId:"port2"},to:{nodeId:"node3",portId:"port1"},properties:{label:"another example link label"}},link3:{id:"link3",from:{nodeId:"node2",portId:"port2"},to:{nodeId:"node4",portId:"port1"}}},selected:{},hovered:{}}},339:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var React=__webpack_require__(0),src_1=__webpack_require__(9),components_1=__webpack_require__(22),exampleChartState_1=__webpack_require__(23);exports.ConfigSnapToGridDemo=function(){return React.createElement(components_1.Page,null,React.createElement(src_1.FlowChartWithState,{initialValue:exampleChartState_1.chartSimple,config:{snapToGrid:!0}}))}},341:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var CanvasContext=__webpack_require__(0).createContext({offsetX:0,offsetY:0});exports.default=CanvasContext},342:function(module,exports,__webpack_require__){"use strict";var __makeTemplateObject=this&&this.__makeTemplateObject||function(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,"raw",{value:raw}):cooked.raw=raw,cooked};Object.defineProperty(exports,"__esModule",{value:!0});var templateObject_1,templateObject_2,styled_components_1=__webpack_require__(15);exports.NodeDefault=styled_components_1.default.div(templateObject_2||(templateObject_2=__makeTemplateObject(["\n  position: absolute;\n  transition: 0.3s ease box-shadow, 0.3s ease margin-top;\n  background: white;\n  border-radius: 4px;\n  min-width: 200px;\n  ","\n"],["\n  position: absolute;\n  transition: 0.3s ease box-shadow, 0.3s ease margin-top;\n  background: white;\n  border-radius: 4px;\n  min-width: 200px;\n  ","\n"])),(function(props){return props.isSelected&&styled_components_1.css(templateObject_1||(templateObject_1=__makeTemplateObject(["\n    box-shadow: 0 10px 20px rgba(0,0,0,.1);\n    margin-top: -2px\n    "],["\n    box-shadow: 0 10px 20px rgba(0,0,0,.1);\n    margin-top: -2px\n    "])))}))},343:function(module,exports,__webpack_require__){"use strict";var __makeTemplateObject=this&&this.__makeTemplateObject||function(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,"raw",{value:raw}):cooked.raw=raw,cooked};Object.defineProperty(exports,"__esModule",{value:!0});var templateObject_1,templateObject_2,React=__webpack_require__(0),styled_components_1=__webpack_require__(15),PortDefaultOuter=styled_components_1.default.div(templateObject_1||(templateObject_1=__makeTemplateObject(["\n  width: 24px;\n  height: 24px;\n  border-radius: 50%;\n  background: white;\n  cursor: pointer;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  &:hover > div {\n    background: cornflowerblue;\n  }\n"],["\n  width: 24px;\n  height: 24px;\n  border-radius: 50%;\n  background: white;\n  cursor: pointer;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  &:hover > div {\n    background: cornflowerblue;\n  }\n"]))),PortDefaultInner=styled_components_1.default.div(templateObject_2||(templateObject_2=__makeTemplateObject(["\n  width: 12px;\n  height: 12px;\n  border-radius: 50%;\n  background:  ",";\n  cursor: pointer;\n"],["\n  width: 12px;\n  height: 12px;\n  border-radius: 50%;\n  background:  ",";\n  cursor: pointer;\n"])),(function(props){return props.active?"cornflowerblue":"grey"}));exports.PortDefault=function(_a){var isLinkSelected=_a.isLinkSelected,isLinkHovered=_a.isLinkHovered,config=_a.config;return React.createElement(PortDefaultOuter,null,React.createElement(PortDefaultInner,{active:!config.readonly&&(isLinkSelected||isLinkHovered)}))}},347:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var React=__webpack_require__(0),__1=__webpack_require__(9);exports.LinkDefault=function(_a){var config=_a.config,link=_a.link,startPos=_a.startPos,endPos=_a.endPos,fromPort=_a.fromPort,toPort=_a.toPort,onLinkMouseEnter=_a.onLinkMouseEnter,onLinkMouseLeave=_a.onLinkMouseLeave,onLinkClick=_a.onLinkClick,isHovered=_a.isHovered,isSelected=_a.isSelected,matrix=_a.matrix,points=config.smartRouting?toPort&&matrix?__1.generateSmartPath(matrix,startPos,endPos,fromPort,toPort):__1.generateRightAnglePath(startPos,endPos):__1.generateCurvePath(startPos,endPos);return React.createElement("svg",{style:{overflow:"visible",position:"absolute",cursor:"pointer",left:0,right:0}},React.createElement("circle",{r:"4",cx:startPos.x,cy:startPos.y,fill:"cornflowerblue"}),React.createElement("path",{d:points,stroke:"cornflowerblue",strokeWidth:"3",fill:"none"}),React.createElement("path",{d:points,stroke:"cornflowerblue",strokeWidth:"20",fill:"none",strokeLinecap:"round",strokeOpacity:isHovered||isSelected?.1:0,onMouseEnter:function(){return onLinkMouseEnter({config:config,linkId:link.id})},onMouseLeave:function(){return onLinkMouseLeave({config:config,linkId:link.id})},onClick:function(e){onLinkClick({config:config,linkId:link.id}),e.stopPropagation()}}),React.createElement("circle",{r:"4",cx:endPos.x,cy:endPos.y,fill:"cornflowerblue"}))}},348:function(module,exports,__webpack_require__){"use strict";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}Object.defineProperty(exports,"__esModule",{value:!0}),__export(__webpack_require__(959)),__export(__webpack_require__(960))},349:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.MATRIX_PADDING=5,exports.NODE_PADDING=3;exports.getMatrix=function(offset,nodeDimensions){var _a=function(offset,nodeDimensions){var defaultNodeSize={width:500,height:500},dimensions={width:0,height:0},offsetX=Math.max(offset.x,0),offsetY=Math.max(offset.y,0);return nodeDimensions.forEach((function(node){var size=node.size||defaultNodeSize,x=node.position.x+offsetX+size.width,y=node.position.y+offsetY+size.height;x>dimensions.width&&(dimensions.width=x),y>dimensions.height&&(dimensions.height=y)})),dimensions}(offset,nodeDimensions),matrix=function(width,height){for(var adjustedWidth=Math.ceil(width/4)+exports.MATRIX_PADDING,adjustedHeight=Math.ceil(height/4)+exports.MATRIX_PADDING,matrix=[],i=0;i<adjustedHeight;i++)matrix.push(new Array(adjustedWidth).fill(0));return matrix}(_a.width,_a.height);return nodeDimensions.forEach((function(dimension){for(var position=dimension.position,size=dimension.size||{width:500,height:500},scaledSize_width=Math.ceil(size.width/5)+exports.NODE_PADDING,scaledSize_height=Math.ceil(size.height/5)+exports.NODE_PADDING,scaledX=Math.ceil(position.x/5),scaledY=Math.ceil(position.y/5),x=Math.max(scaledX-exports.NODE_PADDING,0);x<=scaledX+scaledSize_width;x++)for(var y=Math.max(scaledY-exports.NODE_PADDING,0);y<=scaledY+scaledSize_height;y++)matrix[y][x]=1})),matrix}},350:function(module,exports,__webpack_require__){"use strict";var __makeTemplateObject=this&&this.__makeTemplateObject||function(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,"raw",{value:raw}):cooked.raw=raw,cooked};Object.defineProperty(exports,"__esModule",{value:!0});var templateObject_1,styled_components_1=__webpack_require__(15);exports.Content=styled_components_1.default.div(templateObject_1||(templateObject_1=__makeTemplateObject(["\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  overflow: hidden;\n"],["\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  overflow: hidden;\n"])))},351:function(module,exports,__webpack_require__){"use strict";var __makeTemplateObject=this&&this.__makeTemplateObject||function(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,"raw",{value:raw}):cooked.raw=raw,cooked};Object.defineProperty(exports,"__esModule",{value:!0});var templateObject_1,templateObject_2,React=__webpack_require__(0),styled_components_1=__webpack_require__(15),GlobalStyle=styled_components_1.createGlobalStyle(templateObject_1||(templateObject_1=__makeTemplateObject(["\n  body {\n    margin: 0px;\n    max-width: 100vw;\n    max-height: 100vh;\n    overflow: hidden;\n    box-sizing: border-box;\n    font-family: sans-serif;\n  }\n\n  *, :after, :before {\n    box-sizing: inherit;\n  }\n"],["\n  body {\n    margin: 0px;\n    max-width: 100vw;\n    max-height: 100vh;\n    overflow: hidden;\n    box-sizing: border-box;\n    font-family: sans-serif;\n  }\n\n  *, :after, :before {\n    box-sizing: inherit;\n  }\n"]))),PageContent=styled_components_1.default.div(templateObject_2||(templateObject_2=__makeTemplateObject(["\n  display: flex;\n  flex-direction: row;\n  flex: 1;\n  max-width: 100vw;\n  max-height: 100vh;\n"],["\n  display: flex;\n  flex-direction: row;\n  flex: 1;\n  max-width: 100vw;\n  max-height: 100vh;\n"])));exports.Page=function(_a){var children=_a.children;return React.createElement(PageContent,null,children,React.createElement(GlobalStyle,null))}},352:function(module,exports,__webpack_require__){"use strict";var __makeTemplateObject=this&&this.__makeTemplateObject||function(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,"raw",{value:raw}):cooked.raw=raw,cooked};Object.defineProperty(exports,"__esModule",{value:!0});var templateObject_1,styled_components_1=__webpack_require__(15);exports.Sidebar=styled_components_1.default.div(templateObject_1||(templateObject_1=__makeTemplateObject(["\n  width: 300px;\n  background: white;\n  display: flex;\n  flex-direction: column;\n  flex-shrink: 0;\n"],["\n  width: 300px;\n  background: white;\n  display: flex;\n  flex-direction: column;\n  flex-shrink: 0;\n"])))},353:function(module,exports,__webpack_require__){"use strict";var __makeTemplateObject=this&&this.__makeTemplateObject||function(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,"raw",{value:raw}):cooked.raw=raw,cooked};Object.defineProperty(exports,"__esModule",{value:!0});var templateObject_1,React=__webpack_require__(0),styled_components_1=__webpack_require__(15),src_1=__webpack_require__(9),Outer=styled_components_1.default.div(templateObject_1||(templateObject_1=__makeTemplateObject(["\n  padding: 20px 30px;\n  font-size: 14px;\n  background: white;\n  cursor: move;\n"],["\n  padding: 20px 30px;\n  font-size: 14px;\n  background: white;\n  cursor: move;\n"])));exports.SidebarItem=function(_a){var type=_a.type,ports=_a.ports,properties=_a.properties;return React.createElement(Outer,{draggable:!0,onDragStart:function(event){event.dataTransfer.setData(src_1.REACT_FLOW_CHART,JSON.stringify({type:type,ports:ports,properties:properties}))}},type)}},354:function(module,exports,__webpack_require__){"use strict";var __makeTemplateObject=this&&this.__makeTemplateObject||function(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,"raw",{value:raw}):cooked.raw=raw,cooked};Object.defineProperty(exports,"__esModule",{value:!0});var templateObject_1,React=__webpack_require__(0),styled_components_1=__webpack_require__(15),src_1=__webpack_require__(9),components_1=__webpack_require__(22),exampleChartState_1=__webpack_require__(23),Note=styled_components_1.default.div(templateObject_1||(templateObject_1=__makeTemplateObject(["\n  position: absolute;\n  left: 30px;\n  top: 30px;\n  padding: 20px;\n  background: white;\n  border-radius: 10px;\n  border: 2px solid red;\n"],["\n  position: absolute;\n  left: 30px;\n  top: 30px;\n  padding: 20px;\n  background: white;\n  border-radius: 10px;\n  border: 2px solid red;\n"])));exports.ConfigValidateLinkDemo=function(){return React.createElement(components_1.Page,null,React.createElement(src_1.FlowChartWithState,{initialValue:exampleChartState_1.chartSimple,config:{validateLink:function(_a){_a.linkId;var fromNodeId=_a.fromNodeId,toNodeId=(_a.fromPortId,_a.toNodeId),chart=(_a.toPortId,_a.chart);return chart.nodes[fromNodeId].type!==chart.nodes[toNodeId].type}}}),React.createElement(Note,null,"Customise link validation. For example, only allow links between different Node Types"))}},355:function(module,exports,__webpack_require__){"use strict";var __makeTemplateObject=this&&this.__makeTemplateObject||function(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,"raw",{value:raw}):cooked.raw=raw,cooked};Object.defineProperty(exports,"__esModule",{value:!0});var templateObject_1,React=__webpack_require__(0),styled_components_1=__webpack_require__(15),src_1=__webpack_require__(9),components_1=__webpack_require__(22),exampleChartState_1=__webpack_require__(23),CanvasOuterCustom=styled_components_1.default.div(templateObject_1||(templateObject_1=__makeTemplateObject(["\n  position: relative;\n  background-size: 10px 10px;\n  background-color: #4f6791;\n  background-image:\n    linear-gradient(90deg,hsla(0,0%,100%,.1) 1px,transparent 0),\n    linear-gradient(180deg,hsla(0,0%,100%,.1) 1px,transparent 0);\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  cursor: not-allowed;\n"],["\n  position: relative;\n  background-size: 10px 10px;\n  background-color: #4f6791;\n  background-image:\n    linear-gradient(90deg,hsla(0,0%,100%,.1) 1px,transparent 0),\n    linear-gradient(180deg,hsla(0,0%,100%,.1) 1px,transparent 0);\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  cursor: not-allowed;\n"])));exports.CustomCanvasOuterDemo=function(){return React.createElement(components_1.Page,null,React.createElement(src_1.FlowChartWithState,{initialValue:exampleChartState_1.chartSimple,Components:{CanvasOuter:CanvasOuterCustom}}))}},356:function(module,exports,__webpack_require__){"use strict";var extendStatics,__makeTemplateObject=this&&this.__makeTemplateObject||function(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,"raw",{value:raw}):cooked.raw=raw,cooked},__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0});var templateObject_1,templateObject_2,templateObject_3,lodash_1=__webpack_require__(66),React=__webpack_require__(0),styled_components_1=__webpack_require__(15),src_1=__webpack_require__(9),actions=__webpack_require__(80),components_1=__webpack_require__(22),exampleChartState_1=__webpack_require__(23),Label=styled_components_1.default.div(templateObject_1||(templateObject_1=__makeTemplateObject(["\n  position: absolute;\n"],["\n  position: absolute;\n"]))),Button=styled_components_1.default.div(templateObject_2||(templateObject_2=__makeTemplateObject(["\n  position: absolute;\n  top: 0px;\n  right: 0px;\n  padding: 5px;\n  height: 15px;\n  width: 15px;\n  transform: translate(50%, -50%);\n  background: red;\n  color: white;\n  border-radius: 50%;\n  transition: 0.3s ease all;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 10px;\n  cursor: pointer;\n  &:hover {\n    box-shadow: 0 10px 20px rgba(0,0,0,.1);\n  }\n"],["\n  position: absolute;\n  top: 0px;\n  right: 0px;\n  padding: 5px;\n  height: 15px;\n  width: 15px;\n  transform: translate(50%, -50%);\n  background: red;\n  color: white;\n  border-radius: 50%;\n  transition: 0.3s ease all;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 10px;\n  cursor: pointer;\n  &:hover {\n    box-shadow: 0 10px 20px rgba(0,0,0,.1);\n  }\n"]))),LabelContent=styled_components_1.default.div(templateObject_3||(templateObject_3=__makeTemplateObject(["\n  padding: 5px 10px;\n  background: cornflowerblue;\n  color: white;\n  border-radius: 5px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 10px;\n  cursor: pointer;\n"],["\n  padding: 5px 10px;\n  background: cornflowerblue;\n  color: white;\n  border-radius: 5px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 10px;\n  cursor: pointer;\n"]))),CustomLinkDemo=function(_super){function CustomLinkDemo(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.state=lodash_1.cloneDeep(exampleChartState_1.chartSimple),_this}return __extends(CustomLinkDemo,_super),CustomLinkDemo.prototype.render=function(){var _this=this,chart=this.state,stateActions=lodash_1.mapValues(actions,(function(func){return function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return _this.setState(func.apply(void 0,args))}}));return React.createElement(components_1.Page,null,React.createElement(src_1.FlowChart,{chart:chart,callbacks:stateActions,Components:{Link:function(props){var startPos=props.startPos,endPos=props.endPos,onLinkClick=props.onLinkClick,link=props.link,centerX=startPos.x+(endPos.x-startPos.x)/2,centerY=startPos.y+(endPos.y-startPos.y)/2;return React.createElement(React.Fragment,null,React.createElement(src_1.LinkDefault,__assign({},props)),React.createElement(Label,{style:{left:centerX,top:centerY}},props.link.properties&&props.link.properties.label&&React.createElement(LabelContent,null,props.link.properties&&props.link.properties.label),React.createElement(Button,{onClick:function(e){onLinkClick({linkId:link.id}),stateActions.onDeleteKey({}),e.stopPropagation()}},"x")))}}}))},CustomLinkDemo}(React.Component);exports.CustomLinkDemo=CustomLinkDemo},357:function(module,exports,__webpack_require__){"use strict";var __makeTemplateObject=this&&this.__makeTemplateObject||function(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,"raw",{value:raw}):cooked.raw=raw,cooked},__assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},__rest=this&&this.__rest||function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&(t[p[i]]=s[p[i]])}return t};Object.defineProperty(exports,"__esModule",{value:!0});var templateObject_1,templateObject_2,React=__webpack_require__(0),styled_components_1=__webpack_require__(15),src_1=__webpack_require__(9),components_1=__webpack_require__(22),exampleChartState_1=__webpack_require__(23),DarkBox=styled_components_1.default.div(templateObject_1||(templateObject_1=__makeTemplateObject(["\n  position: absolute;\n  padding: 30px;\n  background: #3e3e3e;\n  color: white;\n  border-radius: 10px;\n"],["\n  position: absolute;\n  padding: 30px;\n  background: #3e3e3e;\n  color: white;\n  border-radius: 10px;\n"]))),Circle=styled_components_1.default.div(templateObject_2||(templateObject_2=__makeTemplateObject(["\n  position: absolute;\n  width: 150px;\n  height: 150px;\n  padding: 30px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background: #d30000;\n  color: white;\n  border-radius: 50%;\n"],["\n  position: absolute;\n  width: 150px;\n  height: 150px;\n  padding: 30px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background: #d30000;\n  color: white;\n  border-radius: 50%;\n"]))),NodeCustom=React.forwardRef((function(_a,ref){var node=_a.node,children=_a.children,otherProps=__rest(_a,["node","children"]);return"output-only"===node.type?React.createElement(DarkBox,__assign({ref:ref},otherProps),children):React.createElement(Circle,__assign({ref:ref},otherProps),children)}));exports.CustomNodeDemo=function(){return React.createElement(components_1.Page,null,React.createElement(src_1.FlowChartWithState,{initialValue:exampleChartState_1.chartSimple,Components:{Node:NodeCustom}}))}},358:function(module,exports,__webpack_require__){"use strict";var extendStatics,__makeTemplateObject=this&&this.__makeTemplateObject||function(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,"raw",{value:raw}):cooked.raw=raw,cooked},__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0});var templateObject_1,templateObject_2,lodash_1=__webpack_require__(66),React=__webpack_require__(0),styled_components_1=__webpack_require__(15),src_1=__webpack_require__(9),actions=__webpack_require__(80),components_1=__webpack_require__(22),exampleChartState_1=__webpack_require__(23),Outer=styled_components_1.default.div(templateObject_1||(templateObject_1=__makeTemplateObject(["\n  padding: 30px;\n"],["\n  padding: 30px;\n"]))),Input=styled_components_1.default.input(templateObject_2||(templateObject_2=__makeTemplateObject(["\n  padding: 10px;\n  border: 1px solid cornflowerblue;\n  width: 100%;\n"],["\n  padding: 10px;\n  border: 1px solid cornflowerblue;\n  width: 100%;\n"]))),NodeInnerCustom=function(_a){var node=_a.node;_a.config;return"output-only"===node.type?React.createElement(Outer,null,React.createElement("p",null,"Use Node inner to customise the content of the node")):React.createElement(Outer,null,React.createElement("p",null,"Add custom displays for each node.type"),React.createElement("p",null,"You may need to stop event propagation so your forms work."),React.createElement("br",null),React.createElement(Input,{type:"number",placeholder:"Some Input",onChange:function(e){return console.log(e)},onClick:function(e){return e.stopPropagation()},onMouseUp:function(e){return e.stopPropagation()},onMouseDown:function(e){return e.stopPropagation()}}))},CustomNodeInnerDemo=function(_super){function CustomNodeInnerDemo(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.state=lodash_1.cloneDeep(exampleChartState_1.chartSimple),_this}return __extends(CustomNodeInnerDemo,_super),CustomNodeInnerDemo.prototype.render=function(){var _this=this,chart=this.state,stateActions=lodash_1.mapValues(actions,(function(func){return function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return _this.setState(func.apply(void 0,args))}}));return React.createElement(components_1.Page,null,React.createElement(src_1.FlowChart,{chart:chart,callbacks:stateActions,Components:{NodeInner:NodeInnerCustom}}))},CustomNodeInnerDemo}(React.Component);exports.CustomNodeInnerDemo=CustomNodeInnerDemo},359:function(module,exports,__webpack_require__){"use strict";var __makeTemplateObject=this&&this.__makeTemplateObject||function(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,"raw",{value:raw}):cooked.raw=raw,cooked};Object.defineProperty(exports,"__esModule",{value:!0});var templateObject_1,React=__webpack_require__(0),styled_components_1=__webpack_require__(15),src_1=__webpack_require__(9),components_1=__webpack_require__(22),exampleChartState_1=__webpack_require__(23),PortDefaultOuter=styled_components_1.default.div(templateObject_1||(templateObject_1=__makeTemplateObject(["\n  width: 24px;\n  height: 24px;\n  background: cornflowerblue;\n  cursor: pointer;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"],["\n  width: 24px;\n  height: 24px;\n  background: cornflowerblue;\n  cursor: pointer;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),PortCustom=function(props){return React.createElement(PortDefaultOuter,null,props.port.properties&&"yes"===props.port.properties.value&&React.createElement("svg",{style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},React.createElement("path",{fill:"white",d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"})),props.port.properties&&"no"===props.port.properties.value&&React.createElement("svg",{style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},React.createElement("path",{fill:"white",d:"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"})),!props.port.properties&&React.createElement("svg",{style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},React.createElement("path",{fill:"white",d:"M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z"})))};exports.CustomPortDemo=function(){return React.createElement(components_1.Page,null,React.createElement(src_1.FlowChartWithState,{initialValue:exampleChartState_1.chartSimple,Components:{Port:PortCustom}}))}},360:function(module,exports,__webpack_require__){"use strict";var __makeTemplateObject=this&&this.__makeTemplateObject||function(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,"raw",{value:raw}):cooked.raw=raw,cooked};Object.defineProperty(exports,"__esModule",{value:!0});var templateObject_1,React=__webpack_require__(0),styled_components_1=__webpack_require__(15),src_1=__webpack_require__(9),components_1=__webpack_require__(22),exampleChartState_1=__webpack_require__(23),Message=styled_components_1.default.div(templateObject_1||(templateObject_1=__makeTemplateObject(["\nmargin: 10px;\npadding: 10px;\nbackground: rgba(0,0,0,0.05);\n"],["\nmargin: 10px;\npadding: 10px;\nbackground: rgba(0,0,0,0.05);\n"])));exports.DragAndDropSidebar=function(){return React.createElement(components_1.Page,null,React.createElement(components_1.Content,null,React.createElement(src_1.FlowChartWithState,{initialValue:exampleChartState_1.chartSimple})),React.createElement(components_1.Sidebar,null,React.createElement(Message,null,"Drag and drop these items onto the canvas."),React.createElement(components_1.SidebarItem,{type:"top/bottom",ports:{port1:{id:"port1",type:"top",properties:{custom:"property"}},port2:{id:"port1",type:"bottom",properties:{custom:"property"}}},properties:{custom:"property"}}),React.createElement(components_1.SidebarItem,{type:"bottom-only",ports:{port1:{id:"port1",type:"bottom",properties:{custom:"property"}}}}),React.createElement(components_1.SidebarItem,{type:"left-right",ports:{port1:{id:"port1",type:"left",properties:{custom:"property"}},port2:{id:"port2",type:"right",properties:{custom:"property"}}}}),React.createElement(components_1.SidebarItem,{type:"all-sides",ports:{port1:{id:"port1",type:"left"},port2:{id:"port2",type:"right"},port3:{id:"port3",type:"top"},port4:{id:"port4",type:"bottom"}}}),React.createElement(components_1.SidebarItem,{type:"lots-of-ports",ports:{port1:{id:"port1",type:"left"},port2:{id:"port2",type:"right"},port3:{id:"port3",type:"top"},port4:{id:"port4",type:"bottom"},port5:{id:"port5",type:"left"},port6:{id:"port6",type:"right"},port7:{id:"port7",type:"top"},port8:{id:"port8",type:"bottom"},port9:{id:"port9",type:"left"},port10:{id:"port10",type:"right"},port11:{id:"port11",type:"top"},port12:{id:"port12",type:"bottom"}}})))}},361:function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0});var lodash_1=__webpack_require__(66),React=__webpack_require__(0),src_1=__webpack_require__(9),actions=__webpack_require__(80),components_1=__webpack_require__(22),exampleChartState_1=__webpack_require__(23),ExternalReactState=function(_super){function ExternalReactState(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.state=lodash_1.cloneDeep(exampleChartState_1.chartSimple),_this}return __extends(ExternalReactState,_super),ExternalReactState.prototype.render=function(){var _this=this,chart=this.state,stateActions=lodash_1.mapValues(actions,(function(func){return function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return _this.setState(func.apply(void 0,args))}}));return React.createElement(components_1.Page,null,React.createElement(src_1.FlowChart,{chart:chart,callbacks:stateActions}))},ExternalReactState}(React.Component);exports.ExternalReactState=ExternalReactState},362:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var React=__webpack_require__(0),src_1=__webpack_require__(9),components_1=__webpack_require__(22),exampleChartState_1=__webpack_require__(23);exports.InternalReactState=function(){return React.createElement(components_1.Page,null,React.createElement(src_1.FlowChartWithState,{initialValue:exampleChartState_1.chartSimple}))}},363:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var React=__webpack_require__(0),src_1=__webpack_require__(9),components_1=__webpack_require__(22),exampleChartState_1=__webpack_require__(23);exports.ReadonlyMode=function(){return React.createElement(components_1.Page,null,React.createElement(src_1.FlowChartWithState,{config:{readonly:!0},initialValue:exampleChartState_1.chartSimple}))}},364:function(module,exports,__webpack_require__){"use strict";var extendStatics,__makeTemplateObject=this&&this.__makeTemplateObject||function(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,"raw",{value:raw}):cooked.raw=raw,cooked},__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0});var templateObject_1,templateObject_2,lodash_1=__webpack_require__(66),React=__webpack_require__(0),styled_components_1=__webpack_require__(15),src_1=__webpack_require__(9),actions=__webpack_require__(80),components_1=__webpack_require__(22),exampleChartState_1=__webpack_require__(23),Message=styled_components_1.default.div(templateObject_1||(templateObject_1=__makeTemplateObject(["\n  margin: 10px;\n  padding: 10px;\n  line-height: 1.4em;\n"],["\n  margin: 10px;\n  padding: 10px;\n  line-height: 1.4em;\n"]))),Button=styled_components_1.default.div(templateObject_2||(templateObject_2=__makeTemplateObject(["\n  padding: 10px 15px;\n  background: cornflowerblue;\n  color: white;\n  border-radius: 3px;\n  text-align: center;\n  transition: 0.3s ease all;\n  cursor: pointer;\n  &:hover {\n    box-shadow: 0 10px 20px rgba(0,0,0,.1);\n  }\n  &:active {\n    background: #5682d2;\n  }\n"],["\n  padding: 10px 15px;\n  background: cornflowerblue;\n  color: white;\n  border-radius: 3px;\n  text-align: center;\n  transition: 0.3s ease all;\n  cursor: pointer;\n  &:hover {\n    box-shadow: 0 10px 20px rgba(0,0,0,.1);\n  }\n  &:active {\n    background: #5682d2;\n  }\n"]))),SelectedSidebar=function(_super){function SelectedSidebar(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.state=lodash_1.cloneDeep(exampleChartState_1.chartSimple),_this}return __extends(SelectedSidebar,_super),SelectedSidebar.prototype.render=function(){var _this=this,chart=this.state,stateActions=lodash_1.mapValues(actions,(function(func){return function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return _this.setState(func.apply(void 0,args))}}));return React.createElement(components_1.Page,null,React.createElement(components_1.Content,null,React.createElement(src_1.FlowChart,{chart:chart,callbacks:stateActions})),React.createElement(components_1.Sidebar,null,chart.selected.type?React.createElement(Message,null,React.createElement("div",null,"Type: ",chart.selected.type),React.createElement("div",null,"ID: ",chart.selected.id),React.createElement("br",null),React.createElement(Button,{onClick:function(){return stateActions.onDeleteKey({})}},"Delete")):React.createElement(Message,null,"Click on a Node, Port or Link")))},SelectedSidebar}(React.Component);exports.SelectedSidebar=SelectedSidebar},365:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var React=__webpack_require__(0),src_1=__webpack_require__(9),components_1=__webpack_require__(22),exampleChartState_1=__webpack_require__(23);exports.SmartRouting=function(){return React.createElement(components_1.Page,null,React.createElement(src_1.FlowChartWithState,{config:{smartRouting:!0},initialValue:exampleChartState_1.chartSimple}))}},366:function(module,exports,__webpack_require__){"use strict";var __makeTemplateObject=this&&this.__makeTemplateObject||function(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,"raw",{value:raw}):cooked.raw=raw,cooked};Object.defineProperty(exports,"__esModule",{value:!0});var lodash_1=__webpack_require__(66),React=__webpack_require__(0),styled_components_1=__webpack_require__(15),src_1=__webpack_require__(9),components_1=__webpack_require__(22),StressTestWithState=function(){var _a=React.useState(100),rows=_a[0],setRows=_a[1],_b=React.useState(100),cols=_b[0],setCols=_b[1],chart=React.useMemo((function(){return function(rows,cols){var xyGrid=lodash_1.flatten(lodash_1.range(0,300*cols,300).map((function(x){return lodash_1.range(0,150*rows,150).map((function(y){return{x:x,y:y}}))})));return{offset:{x:0,y:0},nodes:lodash_1.keyBy(xyGrid.map((function(_a){var x=_a.x,y=_a.y;return{id:"node-"+x+"-"+y,type:"default",position:{x:x+100,y:y+100},ports:{port1:{id:"port1",type:"top"},port2:{id:"port2",type:"bottom"},port3:{id:"port3",type:"right"},port4:{id:"port4",type:"left"}}}})),"id"),links:lodash_1.keyBy(lodash_1.compact(lodash_1.flatMap(xyGrid,(function(_a,idx){var x=_a.x,y=_a.y,next=xyGrid[idx+1];if(next)return[{id:"link-"+x+"-"+y+"-a",from:{nodeId:"node-"+x+"-"+y,portId:"port2"},to:{nodeId:"node-"+next.x+"-"+next.y,portId:"port3"}},{id:"link-"+x+"-"+y+"-b",from:{nodeId:"node-"+x+"-"+y,portId:"port2"},to:{nodeId:"node-"+next.x+"-"+next.y,portId:"port4"}}]}))),"id"),selected:{},hovered:{}}}(rows,cols)}),[rows,cols]);return React.createElement(React.Fragment,null,React.createElement(Controls,null,React.createElement(Label,null,"Columns:"),React.createElement(Input,{type:"number",value:cols,onChange:function(e){return setCols(parseInt(e.target.value,10))}}),React.createElement(Label,null,"Rows:"),React.createElement(Input,{type:"number",value:rows,onChange:function(e){return setRows(parseInt(e.target.value,10))}})),React.createElement(components_1.Page,null,React.createElement(src_1.FlowChartWithState,{key:cols+":"+rows,initialValue:chart})))};exports.StressTestDemo=function(){return React.createElement(StressTestWithState,null)};var templateObject_1,templateObject_2,templateObject_3,Input=styled_components_1.default.input(templateObject_1||(templateObject_1=__makeTemplateObject(["\n  padding: 5px 5px 5px 10px;\n  width: 50px;\n"],["\n  padding: 5px 5px 5px 10px;\n  width: 50px;\n"]))),Label=styled_components_1.default.label(templateObject_2||(templateObject_2=__makeTemplateObject(["\n  padding: 0 10px;\n  font-size: 14px;\n"],["\n  padding: 0 10px;\n  font-size: 14px;\n"]))),Controls=styled_components_1.default.div(templateObject_3||(templateObject_3=__makeTemplateObject(["\n  padding: 10px;\n"],["\n  padding: 10px;\n"])))},373:function(module,exports,__webpack_require__){__webpack_require__(374),__webpack_require__(740),module.exports=__webpack_require__(741)},513:function(module,exports){},741:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__(34),__webpack_require__(93),__webpack_require__(29),__webpack_require__(43);var _storybook_addon_options__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(367),_storybook_react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(199);Object(_storybook_addon_options__WEBPACK_IMPORTED_MODULE_4__.setOptions)({hierarchySeparator:/\/|\./,hierarchyRootSeparator:/\|/}),Object(_storybook_react__WEBPACK_IMPORTED_MODULE_5__.configure)((function loadStories(){!function requireAll(requireContext){return requireContext.keys().map(requireContext)}(__webpack_require__(935))}),module)}.call(this,__webpack_require__(742)(module))},80:function(module,exports,__webpack_require__){"use strict";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0});var uuid_1=__webpack_require__(344),__1=__webpack_require__(9),rotate_1=__webpack_require__(980);exports.onDragNode=function(_a){var config=_a.config,data=(_a.event,_a.data),id=_a.id;return function(chart){var nodechart=chart.nodes[id];return nodechart&&(chart.nodes[id]=__assign({},nodechart,{position:config&&config.snapToGrid?{x:20*Math.round(data.x/20),y:20*Math.round(data.y/20)}:{x:data.x,y:data.y}})),chart}},exports.onDragNodeStop=function(){return __1.identity},exports.onDragCanvas=function(_a){var config=_a.config,data=(_a.event,_a.data);return function(chart){return chart.offset=config&&config.snapToGrid?{x:20*Math.round(data.x/20),y:20*Math.round(data.y/20)}:{x:data.x,y:data.y},chart}},exports.onDragCanvasStop=function(){return __1.identity},exports.onLinkStart=function(_a){var linkId=_a.linkId,fromNodeId=_a.fromNodeId,fromPortId=_a.fromPortId;return function(chart){return chart.links[linkId]={id:linkId,from:{nodeId:fromNodeId,portId:fromPortId},to:{}},chart}},exports.onLinkMove=function(_a){var linkId=_a.linkId,toPosition=_a.toPosition;return function(chart){var link=chart.links[linkId];return link.to.position=toPosition,chart.links[linkId]=__assign({},link),chart}},exports.onLinkComplete=function(props){var linkId=props.linkId,fromNodeId=props.fromNodeId,fromPortId=props.fromPortId,toNodeId=props.toNodeId,toPortId=props.toPortId,_a=props.config,config=void 0===_a?{}:_a;return function(chart){return config.readonly||config.validateLink&&!config.validateLink(__assign({},props,{chart:chart}))||[fromNodeId,fromPortId].join()===[toNodeId,toPortId].join()?delete chart.links[linkId]:chart.links[linkId].to={nodeId:toNodeId,portId:toPortId},chart}},exports.onLinkCancel=function(_a){var linkId=_a.linkId;return function(chart){return delete chart.links[linkId],chart}},exports.onLinkMouseEnter=function(_a){var linkId=_a.linkId;return function(chart){var link=chart.links[linkId];return link.to.nodeId&&link.to.portId&&("link"===chart.hovered.type&&chart.hovered.id===linkId||(chart.hovered={type:"link",id:linkId})),chart}},exports.onLinkMouseLeave=function(_a){var linkId=_a.linkId;return function(chart){var link=chart.links[linkId];return link.to.nodeId&&link.to.portId&&(chart.hovered={}),chart}},exports.onLinkClick=function(_a){var linkId=_a.linkId;return function(chart){return chart.selected.id===linkId&&"link"===chart.selected.type||(chart.selected={type:"link",id:linkId}),chart}},exports.onCanvasClick=function(){return function(chart){return chart.selected.id&&(chart.selected={}),chart}},exports.onNodeMouseEnter=function(_a){var nodeId=_a.nodeId;return function(chart){return __assign({},chart,{hovered:{type:"node",id:nodeId}})}},exports.onNodeMouseLeave=function(_a){var nodeId=_a.nodeId;return function(chart){return"node"===chart.hovered.type&&chart.hovered.id===nodeId?__assign({},chart,{hovered:{}}):chart}},exports.onDeleteKey=function(){return function(chart){if("node"===chart.selected.type&&chart.selected.id){var node_1=chart.nodes[chart.selected.id];Object.keys(chart.links).forEach((function(linkId){var link=chart.links[linkId];link.from.nodeId!==node_1.id&&link.to.nodeId!==node_1.id||delete chart.links[link.id]})),delete chart.nodes[chart.selected.id]}else"link"===chart.selected.type&&chart.selected.id&&delete chart.links[chart.selected.id];return chart.selected&&(chart.selected={}),chart}},exports.onNodeClick=function(_a){var nodeId=_a.nodeId;return function(chart){return chart.selected.id===nodeId&&"node"===chart.selected.type||(chart.selected={type:"node",id:nodeId}),chart}},exports.onNodeSizeChange=function(_a){var nodeId=_a.nodeId,size=_a.size;return function(chart){return chart.nodes[nodeId]=__assign({},chart.nodes[nodeId],{size:size}),chart}},exports.onPortPositionChange=function(_a){var nodeToUpdate=_a.node,port=_a.port,el=_a.el,nodesEl=_a.nodesEl;return function(chart){if(nodeToUpdate.size){var center={x:nodeToUpdate.size.width/2,y:nodeToUpdate.size.height/2},current={x:el.offsetLeft+nodesEl.offsetLeft+el.offsetWidth/2,y:el.offsetTop+nodesEl.offsetTop+el.offsetHeight/2},angle=nodeToUpdate.orientation||0,position=rotate_1.rotate(center,current,angle),node=chart.nodes[nodeToUpdate.id];node.ports[port.id].position={x:position.x,y:position.y},chart.nodes[nodeToUpdate.id]=__assign({},node)}return chart}},exports.onCanvasDrop=function(_a){var config=_a.config,data=_a.data,position=_a.position;return function(chart){var id=uuid_1.v4();return chart.nodes[id]={id:id,position:config&&config.snapToGrid?{x:20*Math.round(position.x/20),y:20*Math.round(position.y/20)}:{x:position.x,y:position.y},orientation:data.orientation||0,type:data.type,ports:data.ports,properties:data.properties},chart}}},9:function(module,exports,__webpack_require__){"use strict";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}Object.defineProperty(exports,"__esModule",{value:!0}),__export(__webpack_require__(936)),__export(__webpack_require__(979)),__export(__webpack_require__(983)),__export(__webpack_require__(195))},935:function(module,exports,__webpack_require__){var map={"./ConfigSnapToGrid.tsx":339,"./ConfigValidateLink.tsx":354,"./CustomCanvasOuter.tsx":355,"./CustomLink.tsx":356,"./CustomNode.tsx":357,"./CustomNodeInner.tsx":358,"./CustomPort.tsx":359,"./DragAndDropSidebar.tsx":360,"./ExternalReactState.tsx":361,"./InternalReactState.tsx":362,"./ReadonlyMode.tsx":363,"./SelectedSidebar.tsx":364,"./SmartRouting.tsx":365,"./StressTest.tsx":366,"./components/Content.tsx":350,"./components/Page.tsx":351,"./components/Sidebar.tsx":352,"./components/SidebarItem.tsx":353,"./components/index.ts":22,"./index.tsx":984,"./misc/exampleChartState.ts":23,"./utils/throttleRender.tsx":985};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=935},936:function(module,exports,__webpack_require__){"use strict";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}Object.defineProperty(exports,"__esModule",{value:!0}),__export(__webpack_require__(937)),__export(__webpack_require__(944)),__export(__webpack_require__(947)),__export(__webpack_require__(949)),__export(__webpack_require__(953)),__export(__webpack_require__(955)),__export(__webpack_require__(957)),__export(__webpack_require__(977))},937:function(module,exports,__webpack_require__){"use strict";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}Object.defineProperty(exports,"__esModule",{value:!0}),__export(__webpack_require__(938)),__export(__webpack_require__(942)),__export(__webpack_require__(943))},938:function(module,exports,__webpack_require__){"use strict";var __makeTemplateObject=this&&this.__makeTemplateObject||function(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,"raw",{value:raw}):cooked.raw=raw,cooked};Object.defineProperty(exports,"__esModule",{value:!0});var templateObject_1,styled_components_1=__webpack_require__(15);exports.CanvasInnerDefault=styled_components_1.default.div(templateObject_1||(templateObject_1=__makeTemplateObject(["\n  position: relative;\n  outline: 1px dashed rgba(0,0,0,0.1);\n  width: 10000px;\n  height: 10000px;\n  cursor: move;\n"],["\n  position: relative;\n  outline: 1px dashed rgba(0,0,0,0.1);\n  width: 10000px;\n  height: 10000px;\n  cursor: move;\n"])))},942:function(module,exports,__webpack_require__){"use strict";var __makeTemplateObject=this&&this.__makeTemplateObject||function(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,"raw",{value:raw}):cooked.raw=raw,cooked};Object.defineProperty(exports,"__esModule",{value:!0});var templateObject_1,styled_components_1=__webpack_require__(15);exports.CanvasOuterDefault=styled_components_1.default.div(templateObject_1||(templateObject_1=__makeTemplateObject(["\n  position: relative;\n  background-size: 20px 20px;\n  background-color: rgba(0,0,0,0.08);\n  background-image:\n    linear-gradient(90deg,hsla(0,0%,100%,.2) 1px,transparent 0),\n    linear-gradient(180deg,hsla(0,0%,100%,.2) 1px,transparent 0);\n  width: 100%;\n  overflow: hidden;\n  cursor: not-allowed;\n"],["\n  position: relative;\n  background-size: 20px 20px;\n  background-color: rgba(0,0,0,0.08);\n  background-image:\n    linear-gradient(90deg,hsla(0,0%,100%,.2) 1px,transparent 0),\n    linear-gradient(180deg,hsla(0,0%,100%,.2) 1px,transparent 0);\n  width: 100%;\n  overflow: hidden;\n  cursor: not-allowed;\n"])))},943:function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0});var React=__webpack_require__(0),react_draggable_1=__webpack_require__(340),__1=__webpack_require__(9),CanvasContext_1=__webpack_require__(341),CanvasWrapper=function(_super){function CanvasWrapper(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.state={width:0,height:0,offsetX:0,offsetY:0},_this.ref=React.createRef(),_this.updateSize=function(){var el=_this.ref.current;if(el){var rect=el.getBoundingClientRect();el.offsetWidth===_this.state.width&&el.offsetHeight===_this.state.height||(_this.setState({width:el.offsetWidth,height:el.offsetHeight}),_this.props.onSizeChange(el.offsetWidth,el.offsetHeight)),rect.left===_this.state.offsetX&&rect.top===_this.state.offsetY||_this.setState({offsetX:rect.left,offsetY:rect.top})}},_this}return __extends(CanvasWrapper,_super),CanvasWrapper.prototype.componentDidMount=function(){if(this.updateSize(),this.ref.current){if(window.ResizeObserver)new window.ResizeObserver(this.updateSize).observe(this.ref.current);else window.addEventListener("resize",this.updateSize);window.addEventListener("scroll",this.updateSize)}},CanvasWrapper.prototype.componentDidUpdate=function(){this.updateSize()},CanvasWrapper.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.updateSize),window.removeEventListener("scroll",this.updateSize)},CanvasWrapper.prototype.render=function(){var _a=this.props,config=_a.config,ComponentInner=_a.ComponentInner,ComponentOuter=_a.ComponentOuter,position=_a.position,onDragCanvas=_a.onDragCanvas,onDragCanvasStop=_a.onDragCanvasStop,children=_a.children,onCanvasClick=_a.onCanvasClick,onDeleteKey=_a.onDeleteKey,onCanvasDrop=_a.onCanvasDrop,_b=this.state,offsetX=_b.offsetX,offsetY=_b.offsetY;return React.createElement(CanvasContext_1.default.Provider,{value:{offsetX:this.state.offsetX,offsetY:this.state.offsetY}},React.createElement(ComponentOuter,{config:config,ref:this.ref},React.createElement(react_draggable_1.default,{axis:"both",position:position,grid:[1,1],onDrag:function(event,data){return onDragCanvas({config:config,event:event,data:data})},onStop:function(event,data){return onDragCanvasStop({config:config,event:event,data:data})},disabled:config.readonly},React.createElement(ComponentInner,{config:config,children:children,onClick:onCanvasClick,tabIndex:0,onKeyDown:function(e){46!==e.keyCode&&8!==e.keyCode||onDeleteKey({config:config})},onDrop:function(e){var data=JSON.parse(e.dataTransfer.getData(__1.REACT_FLOW_CHART));data&&onCanvasDrop({data:data,position:{x:e.clientX-(position.x+offsetX),y:e.clientY-(position.y+offsetY)}})},onDragOver:function(e){return e.preventDefault()}}))))},CanvasWrapper}(React.Component);exports.CanvasWrapper=CanvasWrapper},944:function(module,exports,__webpack_require__){"use strict";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}Object.defineProperty(exports,"__esModule",{value:!0}),__export(__webpack_require__(342)),__export(__webpack_require__(945))},945:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var React=__webpack_require__(0),ReactDOM=__webpack_require__(98),react_draggable_1=__webpack_require__(340),react_resize_observer_1=__webpack_require__(946),__1=__webpack_require__(9),utils_1=__webpack_require__(195),Node_default_1=__webpack_require__(342);exports.NodeWrapper=function(_a){var config=_a.config,node=_a.node,onDragNode=_a.onDragNode,onDragNodeStop=_a.onDragNodeStop,onNodeClick=_a.onNodeClick,isSelected=_a.isSelected,_b=_a.Component,Component=void 0===_b?Node_default_1.NodeDefault:_b,onNodeSizeChange=_a.onNodeSizeChange,onNodeMouseEnter=_a.onNodeMouseEnter,onNodeMouseLeave=_a.onNodeMouseLeave,NodeInner=_a.NodeInner,Ports=_a.Ports,Port=_a.Port,offset=_a.offset,selected=_a.selected,selectedLink=_a.selectedLink,hovered=_a.hovered,hoveredLink=_a.hoveredLink,onPortPositionChange=_a.onPortPositionChange,onLinkStart=_a.onLinkStart,onLinkMove=_a.onLinkMove,onLinkComplete=_a.onLinkComplete,onLinkCancel=_a.onLinkCancel,_c=React.useState({width:0,height:0}),size=_c[0],setSize=_c[1],isDragging=React.useRef(!1),onStart=React.useCallback((function(e){e.stopPropagation(),isDragging.current=!1}),[]),onDrag=React.useCallback((function(event,data){isDragging.current=!0,onDragNode({config:config,event:event,data:data,id:node.id})}),[onDragNode,config,node.id]),onStop=React.useCallback((function(event,data){isDragging.current=!1,onDragNodeStop({config:config,event:event,data:data,id:node.id})}),[onDragNodeStop,config,node.id]),onClick=React.useCallback((function(e){config.readonly||(e.stopPropagation(),isDragging.current||onNodeClick({config:config,nodeId:node.id}))}),[config,node.id]),onMouseEnter=React.useCallback((function(){onNodeMouseEnter({config:config,nodeId:node.id})}),[config,node.id]),onMouseLeave=React.useCallback((function(){onNodeMouseLeave({config:config,nodeId:node.id})}),[config,node.id]),compRef=React.useRef(null);React.useLayoutEffect((function(){var el=ReactDOM.findDOMNode(compRef.current);if(el&&((node.size&&node.size.width)!==el.offsetWidth||(node.size&&node.size.height)!==el.offsetHeight)){var newSize={width:el.offsetWidth,height:el.offsetHeight};setSize(newSize),onNodeSizeChange({config:config,nodeId:node.id,size:newSize})}}),[node,compRef.current,size.width,size.height]);var children=React.createElement(React.Fragment,null,React.createElement(react_resize_observer_1.default,{onResize:function(rect){var newSize={width:rect.width,height:rect.height};setSize(newSize)}}),React.createElement(NodeInner,{node:node,config:config}),React.createElement(Ports,{node:node,config:config},Object.keys(node.ports).map((function(portId){return React.createElement(__1.PortWrapper,{config:config,key:portId,offset:offset,selected:selected,selectedLink:selectedLink,hoveredLink:hoveredLink,hovered:hovered,node:node,port:node.ports[portId],Component:Port,onPortPositionChange:onPortPositionChange,onLinkStart:config.readonly?utils_1.noop:onLinkStart,onLinkMove:config.readonly?utils_1.noop:onLinkMove,onLinkComplete:onLinkComplete,onLinkCancel:onLinkCancel})}))));return React.createElement(react_draggable_1.default,{bounds:"parent",axis:"both",position:node.position,grid:[1,1],onStart:onStart,onDrag:onDrag,onStop:onStop,disabled:config.readonly},React.createElement(Component,{config:config,ref:compRef,children:children,onClick:onClick,onMouseEnter:onMouseEnter,onMouseLeave:onMouseLeave,isSelected:isSelected,node:node}))}},947:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}(__webpack_require__(948))},948:function(module,exports,__webpack_require__){"use strict";var __makeTemplateObject=this&&this.__makeTemplateObject||function(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,"raw",{value:raw}):cooked.raw=raw,cooked};Object.defineProperty(exports,"__esModule",{value:!0});var templateObject_1,React=__webpack_require__(0),Outer=__webpack_require__(15).default.div(templateObject_1||(templateObject_1=__makeTemplateObject(["\n  padding: 40px 30px;\n"],["\n  padding: 40px 30px;\n"])));exports.NodeInnerDefault=function(_a){var node=_a.node;return React.createElement(Outer,null,React.createElement("div",null,"Type: ",node.type))}},949:function(module,exports,__webpack_require__){"use strict";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}Object.defineProperty(exports,"__esModule",{value:!0}),__export(__webpack_require__(343)),__export(__webpack_require__(950))},950:function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0});var lodash_1=__webpack_require__(66),React=__webpack_require__(0),ReactDOM=__webpack_require__(98),uuid_1=__webpack_require__(344),CanvasContext_1=__webpack_require__(341),Port_default_1=__webpack_require__(343),composedPath=function(el){for(var path=[];el;)path.push(el),el=el.parentElement;return path},PortWrapper=function(_super){function PortWrapper(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.nodeRef=React.createRef(),_this.onMouseDown=function(startEvent){var _a=_this.props,offset=_a.offset,node=_a.node,port=_a.port,onLinkStart=_a.onLinkStart,onLinkCancel=_a.onLinkCancel,onLinkComplete=_a.onLinkComplete,onLinkMove=_a.onLinkMove,config=_a.config,linkId=uuid_1.v4(),fromNodeId=node.id,fromPortId=port.id,mouseMoveHandler=function(e){var _a=_this.context,offsetX=_a.offsetX,offsetY=_a.offsetY;onLinkMove({config:config,linkId:linkId,startEvent:startEvent,fromNodeId:fromNodeId,fromPortId:fromPortId,toPosition:{x:e.clientX-offsetX-offset.x,y:e.clientY-offsetY-offset.y}})},mouseUpHandler=function(e){var portEl=composedPath(e.target).find((function(el){var toPortId=el.getAttribute&&el.getAttribute("data-port-id"),toNodeId=el.getAttribute&&el.getAttribute("data-node-id");return!(!toPortId||!toNodeId)}));if(portEl){var toPortId=portEl.getAttribute("data-port-id"),toNodeId=portEl.getAttribute("data-node-id");onLinkComplete({config:config,linkId:linkId,startEvent:startEvent,fromNodeId:fromNodeId,fromPortId:fromPortId,toNodeId:toNodeId,toPortId:toPortId})}else onLinkCancel({config:config,linkId:linkId,startEvent:startEvent,fromNodeId:fromNodeId,fromPortId:fromPortId});window.removeEventListener("mouseup",mouseUpHandler,!1),window.removeEventListener("mousemove",mouseMoveHandler,!1)};window.addEventListener("mouseup",mouseUpHandler,!1),window.addEventListener("mousemove",mouseMoveHandler,!1),onLinkStart({config:config,linkId:linkId,startEvent:startEvent,fromNodeId:fromNodeId,fromPortId:fromPortId}),startEvent.preventDefault(),startEvent.stopPropagation()},_this}return __extends(PortWrapper,_super),PortWrapper.prototype.componentDidMount=function(){this.updatePortPosition()},PortWrapper.prototype.componentDidUpdate=function(prevProps){this.portsOfType(this.props)===this.portsOfType(prevProps)&&lodash_1.isEqual(this.props.node.size,prevProps.node.size)||this.updatePortPosition()},PortWrapper.prototype.render=function(){var _a=this.props,selected=_a.selected,selectedLink=_a.selectedLink,hovered=_a.hovered,hoveredLink=_a.hoveredLink,style=_a.style,port=_a.port,node=_a.node,_b=_a.Component,Component=void 0===_b?Port_default_1.PortDefault:_b,config=_a.config;return React.createElement("div",{"data-port-id":port.id,"data-node-id":node.id,onMouseDown:this.onMouseDown,ref:this.nodeRef,style:style},React.createElement(Component,{config:config,port:port,isSelected:!!selected&&"port"===selected.type&&selected.id===port.id,isHovered:!!hovered&&"port"===hovered.type&&hovered.id===port.id,isLinkSelected:!!selectedLink&&(selectedLink.from.portId===port.id&&selectedLink.from.nodeId===node.id||selectedLink.to.portId===port.id&&selectedLink.to.nodeId===node.id),isLinkHovered:!!hoveredLink&&(hoveredLink.from.portId===port.id&&hoveredLink.from.nodeId===node.id||hoveredLink.to.portId===port.id&&hoveredLink.to.nodeId===node.id)}))},PortWrapper.prototype.updatePortPosition=function(){var el=ReactDOM.findDOMNode(this.nodeRef.current);if(el){var nodesEl=el.parentElement?el.parentElement:{offsetLeft:0,offsetTop:0};this.props.onPortPositionChange({config:this.props.config,node:this.props.node,port:this.props.port,el:el,nodesEl:nodesEl})}},PortWrapper.prototype.portsOfType=function(props){var type=props.port.type,ports=props.node.ports;return Object.values(ports).reduce((function(count,port){return port.type===type?count+1:count}),0)},PortWrapper.contextType=CanvasContext_1.default,PortWrapper}(React.Component);exports.PortWrapper=PortWrapper},953:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}(__webpack_require__(954))},954:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var React=__webpack_require__(0),__1=__webpack_require__(9);exports.PortsDefault=function(_a){var children=_a.children,config=_a.config;return React.createElement("div",null,React.createElement(__1.PortsGroupDefault,{config:config,side:"top"},children.filter((function(child){return["input","top"].includes(child.props.port.type)}))),React.createElement(__1.PortsGroupDefault,{config:config,side:"bottom"},children.filter((function(child){return["output","bottom"].includes(child.props.port.type)}))),React.createElement(__1.PortsGroupDefault,{config:config,side:"right"},children.filter((function(child){return["right"].includes(child.props.port.type)}))),React.createElement(__1.PortsGroupDefault,{config:config,side:"left"},children.filter((function(child){return["left"].includes(child.props.port.type)}))))}},955:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}(__webpack_require__(956))},956:function(module,exports,__webpack_require__){"use strict";var __makeTemplateObject=this&&this.__makeTemplateObject||function(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,"raw",{value:raw}):cooked.raw=raw,cooked};Object.defineProperty(exports,"__esModule",{value:!0});var templateObject_1,templateObject_2,templateObject_3,templateObject_4,templateObject_5,styled_components_1=__webpack_require__(15);exports.PortsGroupDefault=styled_components_1.default.div(templateObject_5||(templateObject_5=__makeTemplateObject(["\n  position: absolute;\n  display: flex;\n  justify-content: center;\n\n  ","\n"],["\n  position: absolute;\n  display: flex;\n  justify-content: center;\n\n  ","\n"])),(function(props){return"top"===props.side?styled_components_1.css(templateObject_1||(templateObject_1=__makeTemplateObject(["\n        width: 100%;\n        left: 0;\n        top: -12px;\n        flex-direction: row;\n        > div {\n          margin: 0 3px;\n        }\n      "],["\n        width: 100%;\n        left: 0;\n        top: -12px;\n        flex-direction: row;\n        > div {\n          margin: 0 3px;\n        }\n      "]))):"bottom"===props.side?styled_components_1.css(templateObject_2||(templateObject_2=__makeTemplateObject(["\n        width: 100%;\n        left: 0;\n        bottom: -12px;\n        flex-direction: row;\n        > div {\n          margin: 0 3px;\n        }\n      "],["\n        width: 100%;\n        left: 0;\n        bottom: -12px;\n        flex-direction: row;\n        > div {\n          margin: 0 3px;\n        }\n      "]))):"left"===props.side?styled_components_1.css(templateObject_3||(templateObject_3=__makeTemplateObject(["\n        height: 100%;\n        top: 0;\n        left: -12px;\n        flex-direction: column;\n        > div {\n          margin: 3px 0;\n        }\n      "],["\n        height: 100%;\n        top: 0;\n        left: -12px;\n        flex-direction: column;\n        > div {\n          margin: 3px 0;\n        }\n      "]))):styled_components_1.css(templateObject_4||(templateObject_4=__makeTemplateObject(["\n        height: 100%;\n        top: 0;\n        right: -12px;\n        flex-direction: column;\n        > div {\n          margin: 3px 0;\n        }\n      "],["\n        height: 100%;\n        top: 0;\n        right: -12px;\n        flex-direction: column;\n        > div {\n          margin: 3px 0;\n        }\n      "])))}))},957:function(module,exports,__webpack_require__){"use strict";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}Object.defineProperty(exports,"__esModule",{value:!0}),__export(__webpack_require__(347)),__export(__webpack_require__(958)),__export(__webpack_require__(348))},958:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var React=__webpack_require__(0),utils_1=__webpack_require__(195),Link_default_1=__webpack_require__(347),utils_2=__webpack_require__(348);exports.LinkWrapper=React.memo((function(_a){var config=_a.config,_b=_a.Component,Component=void 0===_b?Link_default_1.LinkDefault:_b,link=_a.link,onLinkMouseEnter=_a.onLinkMouseEnter,onLinkMouseLeave=_a.onLinkMouseLeave,onLinkClick=_a.onLinkClick,isSelected=_a.isSelected,isHovered=_a.isHovered,fromNode=_a.fromNode,toNode=_a.toNode,matrix=_a.matrix,startPos=utils_2.getLinkPosition(fromNode,link.from.portId),fromPort=fromNode.ports[link.from.portId],endPos=toNode&&link.to.portId?utils_2.getLinkPosition(toNode,link.to.portId):link.to.position,toPort=toNode&&link.to.portId?toNode.ports[link.to.portId]:void 0;return endPos?React.createElement(Component,{config:config,link:link,matrix:matrix,startPos:startPos,endPos:endPos,fromPort:fromPort,toPort:toPort,onLinkMouseEnter:config.readonly?utils_1.noop:onLinkMouseEnter,onLinkMouseLeave:config.readonly?utils_1.noop:onLinkMouseLeave,onLinkClick:config.readonly?utils_1.noop:onLinkClick,isSelected:isSelected,isHovered:isHovered}):null}))},959:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getLinkPosition=function(node,portId){var port=node.ports[portId];return{x:node.position.x+(port.position?port.position.x:0),y:node.position.y+(port.position?port.position.y:0)}}},960:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var PF=__webpack_require__(961),grid_1=__webpack_require__(349);exports.generateCurvePath=function(startPos,endPos){var start,end,width=Math.abs(startPos.x-endPos.x),height=Math.abs(startPos.y-endPos.y),leftToRight=startPos.x<endPos.x,topToBottom=startPos.y<endPos.y,isHorizontal=width>height;isHorizontal?(start=leftToRight?startPos:endPos,end=leftToRight?endPos:startPos):(start=topToBottom?startPos:endPos,end=topToBottom?endPos:startPos);var curve=isHorizontal?width/3:height/3,curveX=isHorizontal?curve:0,curveY=isHorizontal?0:curve;return"M"+start.x+","+start.y+" C "+(start.x+curveX)+","+(start.y+curveY)+" "+(end.x-curveX)+","+(end.y-curveY)+" "+end.x+","+end.y};var finder=PF.JumpPointFinder({heuristic:PF.Heuristic.manhattan,diagonalMovement:PF.DiagonalMovement.Never});exports.generateRightAnglePath=function(startPos,endPos){var start,end,width=Math.abs(startPos.x-endPos.x),height=Math.abs(startPos.y-endPos.y),leftToRight=startPos.x<endPos.x,topToBottom=startPos.y<endPos.y,isHorizontal=width>height;isHorizontal?(start=leftToRight?startPos:endPos,end=leftToRight?endPos:startPos):(start=topToBottom?startPos:endPos,end=topToBottom?endPos:startPos);var vertex=isHorizontal?start.x+","+end.y:end.x+","+start.y;return"M"+start.x+","+start.y+" L "+vertex+" "+end.x+","+end.y};exports.generateSmartPath=function(matrix,startPos,endPos,fromPort,toPort){var grid=new PF.Grid(matrix),startPosScaled={x:Math.ceil(startPos.x/5),y:Math.ceil(startPos.y/5)},endPosScaled={x:Math.ceil(endPos.x/5),y:Math.ceil(endPos.y/5)};try{!function(start,end,grid){[start,end].forEach((function(point){if(["input","top"].includes(point.port.type))for(var i=point.pos.y;i>=Math.max(point.pos.y-grid_1.MATRIX_PADDING,0);i--)grid.setWalkableAt(point.pos.x,i,!0);else if(["output","bottom"].includes(point.port.type))for(i=point.pos.y;i<=Math.min(point.pos.y+grid_1.MATRIX_PADDING,grid.height);i++)grid.setWalkableAt(point.pos.x,i,!0);else if(["right"].includes(point.port.type))for(i=point.pos.x;i<=Math.max(point.pos.x+grid_1.MATRIX_PADDING,grid.width);i++)grid.setWalkableAt(i,point.pos.y,!0);else if(["left"].includes(point.port.type))for(i=point.pos.x;i>=Math.max(point.pos.x-grid_1.MATRIX_PADDING,0);i--)grid.setWalkableAt(i,point.pos.y,!0)}))}({pos:startPosScaled,port:fromPort},{pos:endPosScaled,port:toPort},grid);var path=PF.Util.compressPath(finder.findPath(startPosScaled.x,startPosScaled.y,endPosScaled.x,endPosScaled.y,grid));if(!path.length)return exports.generateRightAnglePath(startPos,endPos);var first=path[0],rest=path.slice(1),d_1="M"+5*first[0]+" "+5*first[1];return rest.forEach((function(_a){var x=_a[0],y=_a[1];d_1+=" L"+5*x+" "+5*y})),d_1}catch(e){return exports.generateRightAnglePath(startPos,endPos)}}},977:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}(__webpack_require__(978))},978:function(module,exports,__webpack_require__){"use strict";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0});var React=__webpack_require__(0),__1=__webpack_require__(9),grid_1=__webpack_require__(349);exports.FlowChart=function(props){var _a=React.useState({width:0,height:0}),canvasSize=_a[0],setCanvasSize=_a[1],chart=props.chart,_b=props.callbacks,onDragNode=_b.onDragNode,onDragNodeStop=_b.onDragNodeStop,onDragCanvas=_b.onDragCanvas,onDragCanvasStop=_b.onDragCanvasStop,onCanvasDrop=_b.onCanvasDrop,onLinkStart=_b.onLinkStart,onLinkMove=_b.onLinkMove,onLinkComplete=_b.onLinkComplete,onLinkCancel=_b.onLinkCancel,onPortPositionChange=_b.onPortPositionChange,onLinkMouseEnter=_b.onLinkMouseEnter,onLinkMouseLeave=_b.onLinkMouseLeave,onLinkClick=_b.onLinkClick,onCanvasClick=_b.onCanvasClick,onDeleteKey=_b.onDeleteKey,onNodeClick=_b.onNodeClick,onNodeMouseEnter=_b.onNodeMouseEnter,onNodeMouseLeave=_b.onNodeMouseLeave,onNodeSizeChange=_b.onNodeSizeChange,_c=props.Components,_d=void 0===_c?{}:_c,_e=_d.CanvasOuter,CanvasOuter=void 0===_e?__1.CanvasOuterDefault:_e,_f=_d.CanvasInner,CanvasInner=void 0===_f?__1.CanvasInnerDefault:_f,_g=_d.NodeInner,NodeInner=void 0===_g?__1.NodeInnerDefault:_g,_h=_d.Ports,Ports=void 0===_h?__1.PortsDefault:_h,_j=_d.Port,Port=void 0===_j?__1.PortDefault:_j,_k=_d.Node,Node=void 0===_k?__1.NodeDefault:_k,_l=_d.Link,Link=void 0===_l?__1.LinkDefault:_l,_m=props.config,config=void 0===_m?{}:_m,links=chart.links,nodes=chart.nodes,selected=chart.selected,hovered=chart.hovered,offset=chart.offset,canvasCallbacks={onDragCanvas:onDragCanvas,onDragCanvasStop:onDragCanvasStop,onCanvasClick:onCanvasClick,onDeleteKey:onDeleteKey,onCanvasDrop:onCanvasDrop},linkCallbacks={onLinkMouseEnter:onLinkMouseEnter,onLinkMouseLeave:onLinkMouseLeave,onLinkClick:onLinkClick},nodeCallbacks={onDragNode:onDragNode,onNodeClick:onNodeClick,onDragNodeStop:onDragNodeStop,onNodeMouseEnter:onNodeMouseEnter,onNodeMouseLeave:onNodeMouseLeave,onNodeSizeChange:onNodeSizeChange},portCallbacks={onPortPositionChange:onPortPositionChange,onLinkStart:onLinkStart,onLinkMove:onLinkMove,onLinkComplete:onLinkComplete,onLinkCancel:onLinkCancel},nodesInView=Object.keys(nodes).filter((function(nodeId){var _a=nodes[nodeId].position,x=_a.x,y=_a.y,size=nodes[nodeId].size||{width:500,height:500};return x+offset.x+size.width>0&&x+offset.x<canvasSize.width&&y+offset.y+size.height>0&&y+offset.y<canvasSize.height})),matrix=config.smartRouting?grid_1.getMatrix(chart.offset,Object.values(nodesInView.map((function(nodeId){return nodes[nodeId]})))):void 0,linksInView=Object.keys(links).filter((function(linkId){var from=links[linkId].from,to=links[linkId].to;return!to.nodeId||-1!==nodesInView.indexOf(from.nodeId)||-1!==nodesInView.indexOf(to.nodeId)}));return React.createElement(__1.CanvasWrapper,__assign({config:config,position:chart.offset,ComponentInner:CanvasInner,ComponentOuter:CanvasOuter,onSizeChange:function(width,height){return setCanvasSize({width:width,height:height})}},canvasCallbacks),linksInView.map((function(linkId){var isSelected=!config.readonly&&"link"===selected.type&&selected.id===linkId,isHovered=!config.readonly&&"link"===hovered.type&&hovered.id===linkId,fromNodeId=links[linkId].from.nodeId,toNodeId=links[linkId].to.nodeId;return React.createElement(__1.LinkWrapper,__assign({config:config,key:linkId,link:links[linkId],Component:Link,isSelected:isSelected,isHovered:isHovered,fromNode:nodes[fromNodeId],toNode:toNodeId?nodes[toNodeId]:void 0,matrix:matrix},linkCallbacks))})),nodesInView.map((function(nodeId){var isSelected="node"===selected.type&&selected.id===nodeId,selectedLink=getSelectedLinkForNode(selected,nodeId,links),hoveredLink=getSelectedLinkForNode(hovered,nodeId,links);return React.createElement(__1.NodeWrapper,__assign({config:config,key:nodeId,Component:Node,node:nodes[nodeId],offset:chart.offset,isSelected:isSelected,selected:selectedLink?selected:void 0,hovered:hoveredLink?hovered:void 0,selectedLink:selectedLink,hoveredLink:hoveredLink,NodeInner:NodeInner,Ports:Ports,Port:Port},nodeCallbacks,portCallbacks))})))};var getSelectedLinkForNode=function(selected,nodeId,links){var link="link"===selected.type&&selected.id?links[selected.id]:void 0;if(link&&(link.from.nodeId===nodeId||link.to.nodeId===nodeId))return link}},979:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _actions=__webpack_require__(80);exports.actions=_actions,function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}(__webpack_require__(981))},980:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.rotate=function(center,current,angle){var radians=Math.PI/180*angle,cos=Math.cos(radians),sin=Math.sin(radians);return{x:cos*(current.x-center.x)+sin*(current.y-center.y)+center.x,y:cos*(current.y-center.y)-sin*(current.x-center.x)+center.y}}},981:function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0});var React=__webpack_require__(0),__1=__webpack_require__(9),actions=__webpack_require__(80),mapValues_1=__webpack_require__(982),FlowChartWithState=function(_super){function FlowChartWithState(props){var _this=_super.call(this,props)||this;return _this.stateActions=mapValues_1.default(actions,(function(func){return function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return _this.setState(func.apply(void 0,args))}})),_this.state=props.initialValue,_this}return __extends(FlowChartWithState,_super),FlowChartWithState.prototype.render=function(){var _a=this.props,Components=_a.Components,config=_a.config;return React.createElement(__1.FlowChart,{chart:this.state,callbacks:this.stateActions,Components:Components,config:config})},FlowChartWithState}(React.Component);exports.FlowChartWithState=FlowChartWithState},982:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function mapValues(o,func){var res={};for(var key in o)o.hasOwnProperty(key)&&(res[key]=func(o[key]));return res}},983:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.REACT_FLOW_CHART="react-flow-chart"},984:function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__webpack_require__(199),React=__webpack_require__(0),ConfigSnapToGrid_1=__webpack_require__(339),ConfigValidateLink_1=__webpack_require__(354),CustomCanvasOuter_1=__webpack_require__(355),CustomLink_1=__webpack_require__(356),CustomNode_1=__webpack_require__(357),CustomNodeInner_1=__webpack_require__(358),CustomPort_1=__webpack_require__(359),DragAndDropSidebar_1=__webpack_require__(360),ExternalReactState_1=__webpack_require__(361),InternalReactState_1=__webpack_require__(362),ReadonlyMode_1=__webpack_require__(363),SelectedSidebar_1=__webpack_require__(364),SmartRouting_1=__webpack_require__(365),StressTest_1=__webpack_require__(366);react_1.storiesOf("State",module).add("Internal React State",InternalReactState_1.InternalReactState).add("External React State",(function(){return React.createElement(ExternalReactState_1.ExternalReactState,null)})),react_1.storiesOf("Custom Components",module).add("Node Inner",(function(){return React.createElement(CustomNodeInner_1.CustomNodeInnerDemo,null)})).add("Node",CustomNode_1.CustomNodeDemo).add("Port",CustomPort_1.CustomPortDemo).add("Canvas Outer",CustomCanvasOuter_1.CustomCanvasOuterDemo).add("Canvas Link",(function(){return React.createElement(CustomLink_1.CustomLinkDemo,null)})),react_1.storiesOf("Stress Testing",module).add("default",StressTest_1.StressTestDemo),react_1.storiesOf("Sidebar",module).add("Drag and Drop",DragAndDropSidebar_1.DragAndDropSidebar).add("Selected Sidebar",(function(){return React.createElement(SelectedSidebar_1.SelectedSidebar,null)})),react_1.storiesOf("Other Config",module).add("Snap To Grid",ConfigSnapToGrid_1.ConfigSnapToGridDemo).add("Link validation function",ConfigValidateLink_1.ConfigValidateLinkDemo).add("Read only mode",ReadonlyMode_1.ReadonlyMode).add("Smart link routing",SmartRouting_1.SmartRouting)}).call(this,__webpack_require__(53)(module))},985:function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0});var lodash_1=__webpack_require__(66),React=__webpack_require__(0);exports.throttleRender=function(wait,options){return function(ComponentToThrottle){return function(_super){function Throttle(props,context){var _this=_super.call(this,props,context)||this;return _this.state={},_this.throttledSetState=lodash_1.throttle((function(nextState){return _this.setState(nextState)}),wait,options),_this}return __extends(Throttle,_super),Throttle.prototype.shouldComponentUpdate=function(nextProps,nextState){return this.state!==nextState},Throttle.prototype.componentWillMount=function(){this.throttledSetState({props:this.props})},Throttle.prototype.componentWillReceiveProps=function(nextProps){this.throttledSetState({props:nextProps})},Throttle.prototype.componentWillUnmount=function(){this.throttledSetState.cancel()},Throttle.prototype.render=function(){return React.createElement(ComponentToThrottle,__assign({},this.state.props))},Throttle}(React.Component)}}}},[[373,1,2]]]);
//# sourceMappingURL=main.821a4957d4a4466a1263.bundle.js.map